# 第三章 项目计划

#### 计划

- 计划的定义：计划是事先确定项目的目标和实现目标所需要的原则、方法、 步骤和手段等完整方案的管理活动。这里更多的是将“计划 （planning） ”看成是一个持续的管理活动，是一个过程。有时， 这种持续的管理活动转化为文档，也被看做“计划（plan）” 它应该更恰当地被称为“项目计划书”。

#### 软件项目计划

- 软件项目计划的目的：软件项目计划（Software Project Planning）的目的是制定一套软件项目实施及管理的解决方案，其主要工作包括确定详细的项目实施范围、定义递交的工作成果、评估实施过程中的主要风险、制定项目实施的（时间）进度计划、成本和预算计划、 人力资源计划等。

- 软件项目计划的主要作用：

  1. 指导软件项目实施。
  2. 得到项目相关利益人的承诺。
  3. 获得资源的承诺。
  4. 明确项目人员的分工和工作责任。
  5. 及早了解项目存在的问题和风险。
  6. 获得组织在项目预算上的承诺。
  7. 是软件项目实施结果评估的依据。
  8. 软件项目实施过程的文档化。

- 项目计划阶段需要解决的问题：怎么做？什么时候做？谁来做？

- 项目计划的内容：

  一般的项目计划，包括下列内容

  - 目标：在特定的时期内所要达到的期望结果。
  - 策略：为了达到或超过目标所采取的方法和措施，包括如何做出决策和组织行为的总体指导。
  - 流程：执行政策的具体方法和步骤，包括里程碑设置、沟通渠道、问题报告机制等。
  - 标准：项目过程和产品所要遵守的规定、规范和要求，以及对个人或团体绩效所定义的、可接受的标准。
  - 质量：对软件项目输出成果的要求，包括阶段性产品和最终产品的质量需求。
  - 进度安排：事先安排的个人或团体活动、任务或事件的开始时间和结束时间。
  - 预算：为了达到或超过目标所需要的开支，为将来的成本控制建立依据。
  - 资源：组织结构、人员数量和角色的确认，包括各个角色的责任和义务，人员之间工作配合的要求。
  - 风险：对项目成功构成的威胁或负面影响因素，影响大小或损失，以及相对应的风险防范和处理措施。
  - 配置管理：包括软硬件配置项的定义、基线建立、版本控制和变更控制等工作内容。

  详细的内容：

  1. 目标与范围：在进行项目管理计划时，首先要确定项目的目标与范围，需要对软件项目有一个总体的认识，定义或确定待实现的功能特性以及相应的工作任务，清楚了解该项目是否受到某些约束或存在哪些限制条件等。这一部分的主要内容包括范围规划、范围定义及任务工作结构分解。
  2. 项目估算：可根据软件需求，结合历史数据，采用恰当的评估技术，估算软件规模，从而进一步估算工作量，开发时间等。项目估算包括资源估算、活动持续时间估算以及费用估算。一般来说，首先是对项目活动进行分解和定义，进行项目规模估算，然后进行资源估算， 最后才是费用估算。
  3. 风险：在项目计划中，需要识别风险，对风险进行评估，以便采取相应的措施来降低或缓解风险。这就需要制定风险管理计划，包括风险预防、风险监控和风险处理计划等。软件项目风险可以分为一般性风险和特定产品的风险。
  4. 资源：软件项目的完成需要资源，没有资源，任何事都干不了。这些资源包括人员、硬件、软件等需求和安排，还包括硬件分配、网络结构、项目组成员的角色、责任和具体分配的任务。
  5. 进度安排：进度安排的好坏往往会影响整个项目的完成时间，因此这一环节也是非常关键的。制定软件进度与其他工程没有很大的区别，包括任务排序、里程碑设置等，其方法主要有工程网络图、甘特图 （Gantt chart）、任务资源表、成本估算和培训计划等。进度安排受到资源限制，而且还受到质量规划、采购规划等影响。
  6. 跟踪和控制机制计划：项目进行过程中的监控、如何使项目处在正常发展的轨道上， 都需要事先建立合适的流程或机制来保证，这些机制包括质量保证、 变更控制、项目成员报告等。

- 项目计划的输出文档

  （1） 总体计划 （2）项目范围说明书

  （3）项目进度计划 （4）项目成本计划 

  （5）质量管理计划 （6） 项目资源计划 

  （7）项目风险计划 （8）采购管理计划

  （9） 配置管理计划 （10）产品集成管理计划

- 项目计划的方法：

  （软件项目采用弹性的计划方法比较合适）

  1. **滚动计划方法**：滚动计划方法是一种动态编制计划的方法，它是按照“近细远粗”的原则制定一定时期内的计划，然后按照计划的执行情况和环境变化，调整和修订未来的计划，并逐期向后移动，把短期计划和中期计划结合起来的一种计划方法。滚动计划方法是为了提高计划的连续性、适应性和灵活性而采用的一种新的计划编制方法，是动态平衡原理在计划工作中的应用。

     - 滚动计划方法的特点：
       - 分而治之（divide and conquer），一般将整个软件开发生命周期分为多个阶段，针对不同的阶段制定不同的计划。越接近的阶段，计划越详细；越远的阶段，计划越粗糙。
       - 逐步求精 （scalability in granularity），最近的一期计划为实施计划，后面的各期计划为预测计划，随着时间的推移，预测计划逐步变成实施计划。
       - 动态规划（dynamic programming），以计划的“变（调整）” 来主动适应用户需求和软件开发环境的变化，即“以变应变”。
       - 和谐过渡（harmonious transition），可以使项目中短期计划随时间的推移不断更新；可以解决生产的连续性与计划的阶段性之间的矛盾。
     - 软件研发中的滚动计划：
       - 研发计划可以分为五个层次
         1. 产品愿景（Vision），相当于产品最终要实现的目标，是一个长期努力的目标，可以理解为商业战略上的目标。
         2. 产品路线图（Roadmap）：是一个中长期的产品规划，产品路线图可以考虑最近3-5年。通过这个路线图，分阶段来实现上述的产品愿景。
         3. 发布计划（Release Planning）：短期（如一年）产品发布计划，根据产品路线图，通过发布计划实现其第一个关键的里程碑。
         4. 迭代计划（Sprint Planning）：根据发布计划，来规划当前迭代要完成的目标和住务，包括具体的人员和进度安排。迭代周期一般为一周到四周，一个发布计划可能涵盖十几个迭代， 体现在完整的产品需求列表（product backlog）中，而迭代计划就是要完成具体的任务以实现有限的用户故事，体现在迭代任务列表（sprint backlog）中。
         5. 每日计划（Daily Planning）：就是第2章介绍的Scrum站立会，每个人向团队汇报三个问题，其中一个问题就是：今天要做什么？回答这个问题，就是给出今天的工作计划。

  2. WBS方法：WBS（WorkBreakdown Structure，工作分解结构）方法是一种将复杂的问题分解为简单的问题，然后再根据分解的结果进行计划的方法。WBS方法以可交付成果为导向，对项目要素或整个工作范围进行分解、逐层推进，每向下分解一层就能对项目工作有更详细的了解和定义，从而掌握项目的全部细节，有利于做出相对准确的计划。WBS方法还可以看作结构化的设计工具，以描述项目所必须完成的各项工作以及这些工作之间的相互联系。

     - 借助MBS方法，可以帮助我们达到下列目的

       - 关注项目目标和澄清职责，并防止遗漏项目的可交付成果。
       - 建立可视化的项目可交付成果，以便估算工作量和分配工作。
       - 改进时间、成本和资源估计的准确度。
       - 为绩效测量和项目控制定义一个基准，容易获得项目人员的认可。
       - 辅助分析项目的最初风险、明确工作责任。
       - 为其他项目计划的制定建立框架或依据。

     - 原则和要求：WBS最低层次的项目可交付成果称为工作包（Work Package）， 工作包的定义应考虑80小时法则或两周法则，即任何工作包的完成时间应当不超过80小时，即不超过两周。这样，每两周对所有工作包进行一次检查，只报告该工作包是否完成。通过这种定期检查的方法，可以控制项目的变化。

     - 创建WBS的步骤

       WBS的分解可以采用多种方式进行，例如：

       - 按产品的功能模块分解；
       - 按照软件开发过程的不同阶段分解；
       - 按照项目的地域分布或部门分解；
       - 按照项目目标或职能分解。

     - 制订WBS计划步骤

       1. 分解工作任务。根据项目的特点，选择一种合适的方式，将项目总体工作范围逐步分解合适的粒度。分解过程也是需求分析和定义的过程，项目计划往往和需求分析、定义同步进行。

       2. 定义各项活动/任务之间的依赖关系。活动之间的依赖关系决定了活动的优先级（执行顺序），也确定了每一项活动所需的输入、输出关系，是将来完成项目关键路径的必要条件。
       3. 安排进度和资源。根据所分解的工作任务以及它们之间的依赖关系，就比较容易确定和安排各项任务所需的时间和资源。一项工作任务是否能够完成，时间和资源是两个关键的因素。它们是相互制约的，资源多会缩短工作时间，相反，资源不足时所需时间会延长。

     - 创建WBS的方法：创建WBS可以用自上而下、自下而上、类比、归纳等方法， 而最常用的是自上而下的方法。它是从项目的目标开始，逐级分解项目工作，直到参与者满意地认为项目工作已经充分地得到定义，即可以将项目工作定义在足够的，或适当的细节水平，从而可以准确地估算项目的工期、成本和资源需求。

  3. 网络计划技术：网络计划方法是一种应用网络模型直观地表示软件开发众多工作（工序）之间的逻辑关系与时间关系，对完成软件工程项目所需时间、费用、资源进行求解和优化的计划方法，其基本类型是关键路线法\计划评审技术（CPM/PERT）网络计划方法一般是建立在WBS方法之上，先分解，才能优化。



#### 软件项目

- 特点：
  - 软件开发是在不断探索、研究中进行的，软件开发部门经常被称为研发部门，软件开发过程中伴随着研究。
  - 最佳实践方法还不够成熟，软件工程的历史还比较短，只有40年左右，许多实践方法还在实验、探索之中，没有成熟的、 完整的方法体系。
  - 软件重复性工作可以自动进行，包括自动化回归测试、软件包自动化构造等。在软件开发过程中，会使用很多工具来完成不同的工作，软件开发对工具的依赖性也非常突出。
  - 软件构造过程实际是一个设计过程，每一个软件产品都是不同的。在构造软件时，都需要进行整体或局部设计，而软件的纯制造过程几乎不存在。如果将软件拷贝的过程看做是制造的过程，它在软件构造过程中所占的比重也非常低。
  - 由于软件是设计过程，自动化程度比较低。虽然采用了大量的软件和测试工具，但从需求分析、设计到编程、测试的整个过程中，手工劳动还是主要的，自动化所占的比重还不够高，加上软件的复杂性，使得软件的开发和维护容易出错，所以软件产品质量一直是一个比较大的问题。
  - 人们常常认为软件的变化容易实现，至少从许多人的感觉上看，硬件生产出来，要想改变就比较困难，而软件可以随时修改，只要修改一下代码或数据，不会受到什么损失。但在实际工作中，修改的过程中又可能产生更多的新问题。
  - 软件的变化是不可避免的。软件是无形的产品，它把思想、 概念、算法、流程等融合在一起，因此，用户最初容易提不出确切的要求，不能确定自己真正需要哪些功能。由于需求不完整， 需求变化是不可避免的，从而导致了项目范围的变化。
  - 软件的变化，会进一步引起相关文档的频繁修改。文档编制的工作量在整个项目实施过程中占有很大的比重，而开发人员往往对文档编制不感兴趣，认为是不得不做的苦差事，不愿认真地去做，会直接影响软件的质量。

项目计划

- 项目计划的错误倾向

  1. 对计划不重视
  2. 计划片面
  3. 计划没考虑风险
  4. 计划过于粗糙

- 项目计划的原则

  - 目标性原则。计划必须以目标为导向，服务于目标。制定计划前，一定要清楚目标；计划制定过程中，一定要围绕目标进行，不要脱离目标。
  - 预防性原则。风险控制是软件项目计划的核心工作，所有计划工作始终要考虑如何降低项目风险。风险控制最有效、代价最小的办法就是风险预防。质量管理计划虽然要规划一系列质量控制措施和质量反馈机制，但更重要的是要进行缺陷预防，从源头预防缺陷的产生，这样，产品的质量才真正有保证，项目进度和成本才更有保障。
  - 客观性原则。知己知彼，收集各方面的信息，充分和客户、 相关利益人、项目组人员等进行沟通，了解事实和真相，制定切实可行的计划。
  - 系统性原则。各个子计划不是孤立存在的，而是彼此之间紧密相关的。在制定计划时，要把握各个因素、产品各个组件、 各个项目任务之间的关系，特别是确定它们之间的依赖关系，才能使计划具有系统性，从而彻底、有效地解决问题。
  - 适应性原则。计划是一个过程，而不只是一个文档，根据情况发生的变化，对计划进行调整也是必要的。

- 项目计划的输入

  - 项目的目标和需求。必须清晰定义项目的目标和需求，并得到项目所有相关人员的认可，包括客户代表、市场人员、产品设计人员、开发人员和测试人员等。
  - 项目可用的资源，包括人力资源、硬件、软件等。
  - 项目干系人；即项目的相关利益人（stakeholder）。他们可能是客户、用户，也可能是投资方、关联方或合作方。项目计划过程中，要和他们交流，项目所确定的各项事项，要得到他们同意（buy-in）。
  - 项目涉及的相关技术，哪些技术是成熟的，哪些技术是不够成熟的，技术带来的风险在哪里。
  - 质量政策和标准。项目的资源、进度安排都会受到质量要求或质量标准的约束，质量要求越高，可能需要越多的资源或时间。
  - 组织流程，清楚本组织的软件开发流程，这些流程是否适合当前项目，如何针对当前项目进行剪裁。
  - 制约因素，是限制项目管理团队运行的因素。例如：事先确定的项目预算被认为是影响项目团队对范围、人数和日程表选择的极其重要的因素。当一个项目按照合同执行时，合同条款通常受法律保护，而对项目有制约作用。
  - 假设，通常包含着一定程度的风险，项目计划对所有的假设都应该标明出来，然后逐个分析，并清楚地认识到每个假设因素必须有科学性、真实性和肯定性。
  - 历史数据。项目计划往往参照项目的历史数据（如工作量估算、代码质量等）来进行，获得足够的、有用的项目历史数据是必要的。

- 项目计划的流程

  1. 确定项目目标，包括最终交付的内容和质量标准。
  2. 确定项目的工作范围，包括软件产品功能特性。
  3. 根据质量目标，可以制定质量计划。
  4. 采用WBS方法，分解工作，确定各项具体的任务。
  5. 针对具体的工作任务，估算工作量以及确定所需的资源。
  6. 在上述工作基础上，制定资源计划、进度计划和成本计划。
  7. 在上述过程中，完成风险识别和分析，最终完成风险管理计划，包括风险应对计划。
  8. 在资源计划和进度计划基础上，还可以完成辅助计划， 如采购计划、培训计划等。
  9. 在上述过程中，都需要和软件项目干系人沟通、评审， 以达成一致意见。这一步也是非常重要的，相关方面没有确认， 将来项目计划的实施就可能会遇到很大的阻碍。
  10. 最后，项目计划获得有关方面（管理层、产品发布委员会等）的批准。

  批准后的软件项目计划书作为项目实施、检查和评估的依据， 并在必要时根据项目进展情况实施计划变更。



#### 计划各项内容的制定

1. **确定项目范围**：简单地说就是项目做什么

   - 涵义：
     - 软件产品规范，即一个软件产品应该包含哪些功能特性， 这就是产品需求文档（Product requirement document， PRD） 所描述的。更具体的要求就是功能规格说明书（Functional Specification），但这是在计划过程中或之后产生的。一般在确定 PRD的过程中，就开始进行项目计划。
     - 项目工作范围，即为了交付具有上述功能特性的产品所必须要做的工作。工作范围在一定程度上是产生项目计划的基础。

2. **策略制定**

   - 项目管理的策略可以包括以下内容
     - 选用什么样的软件开发过程模型，采用敏捷模型还是IBM 统一过程模型。
     - 选用什么样的技术，是成熟的技术还是新兴的技术，引进新的技术还是采用团队熟悉的技术。一般会采用团队熟悉的且成熟的技术。
     - 项目合同管理策略，如合同的最重要条款是哪些，如何利用合同中的某些条款和如何避免带来严重风险的条款等。
     - 成本管理策略，如按作业层直接成本费用、项目部间接费用、上级管理费用等进行分层测评，然后根据各任务的较低指标确定目标成本，来确定成本预算。
     - 项目的控制策略，是放手让团队去做还是加强控制。如果团队不够成熟，应加强控制，多设置控制点。
     - 项目的例会制度，是每周开一次还是每个月开一次。当然， 如果项目周期短，可能每天一次例会。有时，也会每两周一次例会，因为一周过于频繁，而一个月又太长了。例会制度也可以分为项目组内部例会和外部协调例会。
     - 信息汇报及发布制度，如要求项目组成员每天或每周必须报告自己所做的工作，当前工作状态，并对工作进行总结。
     - 项目问题处理及上报制度，如要求遇到问题自己设法解决， 如果3天解决不了，必须向项目经理提出来；如果一周解决不了， 项目经理要向上一级经理提出来。
     - 对于项目控制策略，控制点越多，项目偏离目标的可能性越小，而且返工的工作量也会越小，能够降低风险和成本。

3. **资源计划**：项目资源计划，是指通过分析和识别项目的资源需求，确定出项目需要投入的资源。资源计划包括人力资源计划、软硬件资源计划。人力资源计划主要基于工作量估算和进度安排来制定，通过简单的计算就可以根据工作量和项目给定的时间，获得所需要的人员数。从软件工程的角度看，人员和进度之间是需要平衡的。

   - 软件项目资源可分为3类——人力、可复用的软构件或组件、软硬件环境。（人力资源是最重要的资源）

     1. 人肯定是最有价值的资源，项目管理和实施的过程都是由人来完成的。项目计划，首先要建立项目组，并按所需的角色进行分工，如确定项目经理、开发组长和测试组长等。

     2. 可复用的软构件是软件组织的宝贵财富，可以加快软件的开发进程，提高软件的质量与生产率。

     3. 软硬件环境是支持软件开发的必要条件，软硬件环境也直接影响到软件开发的效率。

4. **进度计划**：

   - 制定进度计划的基本原则：以目标为导向，考虑进度的影响因素，留有余地，一般按不利的情况来决定，而不要过于乐观，导致项目计划的失败。

   - 定义：进度计划是说明项目中各项工作的执行顺序、开始时间、完成时间及相互依赖衔接关系的计划。

   - 进度计划是进度控制和管理的依据，可以分为项目进度控制计划和项目状态报告计划。

   - 制定进度计划，一般会遵守下列原则。

     - 项目的实际参与人员制定进度，他们最了解自己要做的工作，由下而上完成进度的汇总。进度表要经过项目组的充分讨论， 得到大多数人的支持后才能确定。

     - 尽可能地先安排难度高的任务，后安排难度低的事。进度前面紧，后面松比较好。

     - 项目进度中都会设置若干个里程碑。项目越大，设置的里程碑越多；项目越难，风险越大，实施时控制要更严，所以设置的里程碑也应该越多。里程碑可以分为多个层次，大里程碑之前， 有若干个子（小）里程碑。

     - 进度表中必须留有缓冲时间，因为需求总是会有变化的， 还会有一些不确定的事情发生，如机器该到的时候没到、某个工程师有事请假等。

     - 如果发现项目应交付的期限非常不合理，就要跟领导或跟客户据理力争，请求放宽期限、调整进度。

     - 当需求发生变化时，就要重新评估进度表，从而决定是否需要进行相应的修正。不要觉得修改进度表麻烦，不修改才会产生真正的麻烦。

5. **成本计划**：软件成本计划是一项制定项目成本控制标准的项目管理工作， 也称为成本预算，就是将各个活动或工作包的估算成本汇总成总预算，再根据具体情况将费用计划分配到各个活动或工作包上去， 从而确立测量项目绩效的总体成本基准。

   - 软件项目成本：

     1. 人力资源成本
     2. 资产类成本
     3. 管理费用
     4. 项目特别费用

     实际的软件项目开发着重考虑人力资源成本的估算、计划和控制。我们也可以将软件项目成本分为**直接成本**和**间接成本**。

     - 直接成本是项目本身的任务所引起的成本（电脑、桌子、椅子）
     - 间接成本是许多项目共享的成本（水电网、房租）

   - 成本计划的3个部分

     - 成本估算：直接成本估算、间接成本估算
     - 费用预算：费用预算是在成本估算基础之上，针对各项成本来估算可能产生的其他费用，从而确定费用预算。费用预算自然受财务政策的影响，如果财务政策比较宽松，就会多给些预算，即在估算的基础上，乘以比1大的系数（如1.1、1.15等）。如果赶上经济危机或企业效益不够好时，公司支出控制很紧的情况下，会在估算基础上降低预算，乘以小于1的系数（如0.85、0.9等）， 这会给费用控制带来更大的挑战。
     - 费用控制：费用控制是为了保证实际发生的费用低于预算而采取的措施。费用控制一般会采用阶段性控制和单项费用控制相结合的方法。对于软件项目的成本控制，关键是需求变更控制和质量控制，需求变化越小，资源和时间浪费会越少，费用就会越低；质量越高，返工会越少，费用就会越低。

   - 制定成本计划的步骤

     1. 借助WBS对成本估算结果进行初步调整，以增补遗漏的成本，删除不必要的成本估算。
     2. 依据项目所处的实际环境，对成本估算结果进行综合调整和汇总。
     3. 当项目预算看上去已经合理可行了，就要将其写进项目计划提交审议，直到最后审议通过并确定成本基准计划。

6. 风险计划：风险计划，更准确地说是风险对策计划。风险对策计划是为了降低项目风险的损害而分析风险、制定风险应对策略方案的过程，包括识别风险、评估风险或量化风险、编制风险应对策略方案等过程。

   1. 制定风险计划，要经过3个阶段—风险识别、风险评
   2. 风险识别出来之后，就要对风险产生的可能性和危害进行评估。
   3. 编制风险应对策略，可以分为两个部分：一是来取预防措施以阻止风险的发生，也就是预防风险，避免风险产生的对策，二是针对风险一旦发生的情况，制定需要采取怎样的措施， 将风险造成的损失降到最低，即缓解风险。

7. 质量计划：质量计划是说明项目组如何具体执行组织的质量方针，确定哪些质量标准适合该项目，并决定如何达到这些标准的过程，即通过策划各种质量相关活动来保证项目达到预期的质量目标，而质量目标是由用户需求和商业目标来决定的。项目质量计划包括质量控制、质量保证和质量管理的计划。



### 项目计划工具

说起项目计划工具，自然会想起微软的桌面软件 Project 2003或Project 2007，它可以帮助我们有效地进行资源、进度等的计划，形成直观的图表，如著名的甘特图。微软的Project支持个人应用，其企业版支持团队协作，但它是商业软件。

在开源软件中，Open Workbench是一个不错的项目计划安排和项目管理的桌面软件，它包含资源和进度安排、WBS定义、任务之间依赖关系设置等功能，并能绘制甘特图、CPM网络图等。Open Workbench基本可以代替微软的Project。 但它仅限于项目经理在单机环境下使用，而不能像微软的Project那样提供支持分布式网络结构下团队协作的项目管理模式。
